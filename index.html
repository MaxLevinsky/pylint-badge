<!doctype html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>pybadge pylint badges for Readme files</title>
</head>
<body>

<div style="text-align: center;
            color: #888;
            background-color: #eee;
            border-radius: 10px;
            margin: 10%;
            padding: 1%;
            font-family: 'Lucida Sans Typewriter', 'Lucida Console', monaco, 'Bitstream Vera Sans Mono', monospace;
font-size: 3vw;
font-style: normal;
font-variant: normal;
font-weight: 500;
line-height: 26.4px;"
            >
  <h3 style="margin: 2%;">
    pylint score badges
    <img id="preview" src="" />
  </h3>
  <p>
  Your Score
  </p>
  <input style="font-size: 300%;
                color: #888;
                text-align: center;
                background-color: #eee;
                border: 1px solid;
                font-family: 'Lucida Sans Typewriter', 'Lucida Console', monaco, 'Bitstream Vera Sans Mono', monospace;
    font-style: normal;
    font-variant: normal;
    font-weight: 500;
    line-height: 26.4px;"
         id="score"
         type="number"
         min="0"
         max="10"
         onClick="this.select();"
         onchange="createLink()"
         onkeyup="createLink()" />

         <p>
           <span style="font-size: 1.5vw;">Markdown</span>
           <p>
  <input style="text-align: center;
                font-size: 130%;
                background-color: #eee;
                border: 0px;
                color: #888;
                width: 100%;
                font-family: 'Lucida Sans Typewriter', 'Lucida Console', monaco, 'Bitstream Vera Sans Mono', monospace;
    font-size: 2vw;
    font-style: normal;
    font-variant: normal;
    font-weight: 500;
    line-height: 26.4px;"
                id="link"
                type="text"
                onClick="this.select();"
              </p>

</p>
</div>
<script>
scoreElement = document.getElementById('score');
linkElement = document.getElementById('link');
previewElement = document.getElementById('preview');


function createLink() {
  score = parseFloat(scoreElement.value);
  if(Number.isNaN(score)) {
    score = 0.0;
  }
  score = Math.round(score * 100) / 100;
  if(score > 10.0) {
    score = 10.0;
  } else if (score < 0) {
    score = 0.0;
  }

  thisUri =  window.location.href;
  link = "badges/" + score + ".svg"

  if(thisUri.lastIndexOf('/') !== thisUri.length - 1) {
    link = "/" + link;
  }

  link = thisUri + link;

  previewElement.src = link;
  linkElement.value = "![pylint Score](" + link + ")" ;
}
// default
defaultScore = "7.5";
scoreElement.value = defaultScore;
createLink();
</script>
</body>
</html>
